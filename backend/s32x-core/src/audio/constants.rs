#![allow(clippy::excessive_precision)]

pub const PWM_HPF_CHARGE_FACTOR: f64 = 0.9920244986380192;

pub const PWM_LPF_TAPS: usize = 79;

// (8 + 1) * ~22000 Hz = ~198000 Hz
pub const PWM_ZERO_PADDING: usize = 8;

// TODO figure out a way to do this more dynamically since the PWM sample rate is not always 22 KHz
#[allow(clippy::excessive_precision)]
pub const PWM_SHARP_LPF_COEFFICIENTS: [f64; PWM_LPF_TAPS] = [
    -0.000256767199450712,
    -0.0005241870357801151,
    -0.0007203410325284961,
    -0.0007978981624294946,
    -0.0007040155002712853,
    -0.0003967413335410637,
    0.0001291601612491384,
    0.0008162191088409134,
    0.001530667938910963,
    0.002072655962451739,
    0.002215656058452017,
    0.001770840873005786,
    0.0006617686372871604,
    -0.001013051539037397,
    -0.002954067980608868,
    -0.004689711931163845,
    -0.005666218159549914,
    -0.005386419194057829,
    -0.00356821279422974,
    -0.0002812014963528108,
    0.003982429194949439,
    0.00833708169152925,
    0.01164634241319268,
    0.012764287067754,
    0.0108321104729723,
    0.005565042178601587,
    -0.00254350525316866,
    -0.0121641976096183,
    -0.02125759006344855,
    -0.02738178338882997,
    -0.02813736005215575,
    -0.0216682300489991,
    -0.007115677560047239,
    0.01507662308616921,
    0.04308503956665872,
    0.07389109608384836,
    0.103710735589267,
    0.1285965491190369,
    0.1451022207578869,
    0.1508813027464107,
    0.1451022207578869,
    0.1285965491190368,
    0.103710735589267,
    0.07389109608384839,
    0.04308503956665872,
    0.01507662308616921,
    -0.00711567756004724,
    -0.0216682300489991,
    -0.02813736005215576,
    -0.02738178338882997,
    -0.02125759006344854,
    -0.0121641976096183,
    -0.002543505253168659,
    0.005565042178601586,
    0.0108321104729723,
    0.012764287067754,
    0.01164634241319268,
    0.008337081691529252,
    0.003982429194949439,
    -0.0002812014963528109,
    -0.003568212794229743,
    -0.00538641919405783,
    -0.005666218159549918,
    -0.004689711931163846,
    -0.002954067980608871,
    -0.001013051539037398,
    0.0006617686372871607,
    0.001770840873005789,
    0.002215656058452017,
    0.002072655962451741,
    0.001530667938910963,
    0.0008162191088409136,
    0.0001291601612491383,
    -0.000396741333541064,
    -0.000704015500271285,
    -0.0007978981624294947,
    -0.0007203410325284961,
    -0.0005241870357801151,
    -0.000256767199450712,
];

pub const PWM_MID_LPF_COEFFICIENTS: [f64; PWM_LPF_TAPS] = [
    0.0005646019790019573,
    0.0004392362152186534,
    0.0002547027577051104,
    3.054207068260037e-06,
    -0.0003183362510909363,
    -0.0006980746238423629,
    -0.001103426307042501,
    -0.00147694541578626,
    -0.001739088757186394,
    -0.001797781632905231,
    -0.001564464634228563,
    -0.0009745966826497837,
    -9.220196547309472e-06,
    0.001286696691663016,
    0.002793606605984751,
    0.004318232204681137,
    0.005608267697878596,
    0.00638117289226079,
    0.006364846761649137,
    0.005345560122389062,
    0.003216584721349119,
    1.985795894785339e-05,
    -0.004026959878056502,
    -0.008524435007766151,
    -0.0129103252887203,
    -0.0165043056654851,
    -0.01857549100371395,
    -0.01842617595812729,
    -0.0154822402610324,
    -0.009378836100674994,
    -2.963250808307357e-05,
    0.01233081397787574,
    0.02713915294567485,
    0.04353332620762572,
    0.06041940739238327,
    0.07656912559199464,
    0.09073778375239364,
    0.101789281136459,
    0.1088136170826103,
    0.1112228145402491,
    0.1088136170826103,
    0.101789281136459,
    0.09073778375239364,
    0.07656912559199464,
    0.06041940739238327,
    0.04353332620762572,
    0.02713915294567485,
    0.01233081397787574,
    -2.963250808307367e-05,
    -0.009378836100674994,
    -0.0154822402610324,
    -0.01842617595812729,
    -0.01857549100371394,
    -0.01650430566548509,
    -0.0129103252887203,
    -0.008524435007766151,
    -0.004026959878056503,
    1.985795894785358e-05,
    0.003216584721349119,
    0.005345560122389065,
    0.006364846761649142,
    0.006381172892260792,
    0.0056082676978786,
    0.004318232204681138,
    0.002793606605984753,
    0.001286696691663017,
    -9.220196547309454e-06,
    -0.0009745966826497848,
    -0.001564464634228563,
    -0.001797781632905233,
    -0.001739088757186394,
    -0.00147694541578626,
    -0.0011034263070425,
    -0.0006980746238423633,
    -0.0003183362510909361,
    3.054207068260063e-06,
    0.0002547027577051104,
    0.0004392362152186533,
    0.0005646019790019572,
];

pub const PWM_SOFT_LPF_COEFFICIENTS: [f64; PWM_LPF_TAPS] = [
    -0.0006271507414367808,
    -0.0006804929044094479,
    -0.0007029849305939878,
    -0.0006815459723078782,
    -0.0005958984126504862,
    -0.0004220894901641308,
    -0.0001380195828772303,
    0.0002697658908951712,
    0.0007990775689921645,
    0.001426113841618862,
    0.002101772305366992,
    0.002751316559015937,
    0.003278123943615124,
    0.003571746772827983,
    0.00351993838268753,
    0.003023696466664649,
    0.002013837478332515,
    0.0004672128953801946,
    -0.001579525737562948,
    -0.004020668236120109,
    -0.006678454115573707,
    -0.009307571985976829,
    -0.01160764233927771,
    -0.01324332123619826,
    -0.0138707761359481,
    -0.01316846806479049,
    -0.01086952468369144,
    -0.006792590638554457,
    -0.0008679543150283236,
    0.006843999281621489,
    0.01614438128750494,
    0.02669894977429664,
    0.03805327082741503,
    0.04965918638299414,
    0.06091075298739397,
    0.07118682692788601,
    0.07989673389440223,
    0.08652505879989228,
    0.09067157279311379,
    0.09208268892248928,
    0.0906715727931138,
    0.08652505879989231,
    0.07989673389440223,
    0.07118682692788603,
    0.06091075298739398,
    0.04965918638299414,
    0.03805327082741505,
    0.02669894977429664,
    0.01614438128750494,
    0.006843999281621487,
    -0.0008679543150283231,
    -0.00679259063855446,
    -0.01086952468369143,
    -0.01316846806479048,
    -0.0138707761359481,
    -0.01324332123619826,
    -0.01160764233927772,
    -0.009307571985976834,
    -0.006678454115573705,
    -0.004020668236120111,
    -0.001579525737562949,
    0.0004672128953801947,
    0.002013837478332516,
    0.00302369646666465,
    0.003519938382687533,
    0.003571746772827986,
    0.003278123943615126,
    0.002751316559015941,
    0.002101772305366993,
    0.001426113841618863,
    0.0007990775689921646,
    0.0002697658908951712,
    -0.0001380195828772302,
    -0.0004220894901641309,
    -0.0005958984126504859,
    -0.0006815459723078782,
    -0.0007029849305939875,
    -0.0006804929044094479,
    -0.0006271507414367809,
];

pub const PWM_VSOFT_LPF_COEFFICIENTS: [f64; PWM_LPF_TAPS] = [
    0.0006225540173111332,
    0.0005998244671582409,
    0.0005702232699094942,
    0.0005239610381095469,
    0.000447427441657558,
    0.0003244234801251763,
    0.0001378481942671414,
    -0.0001282642075430886,
    -0.0004864952074121948,
    -0.0009437451497430391,
    -0.001499068351851629,
    -0.002141822922289573,
    -0.002850308322333131,
    -0.00359104123475719,
    -0.004318786112764338,
    -0.004977412722016738,
    -0.005501601641665267,
    -0.005819363213359506,
    -0.005855279356690802,
    -0.005534324694096746,
    -0.004786077147653619,
    -0.003549091854483115,
    -0.001775188613494866,
    0.0005666059041037771,
    0.003486713193510894,
    0.006972484627718392,
    0.01098670174934895,
    0.01546723648852937,
    0.02032795179293527,
    0.02546085545847152,
    0.03073944937419525,
    0.03602314716280389,
    0.04116256952367069,
    0.04600547241387108,
    0.05040302195636856,
    0.05421610432240778,
    0.0573213505565517,
    0.05961656611853772,
    0.06102528243453358,
    0.06150019153211626,
    0.06102528243453358,
    0.05961656611853772,
    0.0573213505565517,
    0.05421610432240778,
    0.05040302195636856,
    0.04600547241387108,
    0.0411625695236707,
    0.03602314716280389,
    0.03073944937419526,
    0.02546085545847151,
    0.02032795179293526,
    0.01546723648852938,
    0.01098670174934894,
    0.006972484627718391,
    0.003486713193510895,
    0.0005666059041037771,
    -0.001775188613494866,
    -0.003549091854483117,
    -0.004786077147653618,
    -0.005534324694096746,
    -0.005855279356690807,
    -0.005819363213359509,
    -0.005501601641665272,
    -0.004977412722016739,
    -0.00431878611276434,
    -0.003591041234757193,
    -0.002850308322333132,
    -0.002141822922289576,
    -0.001499068351851629,
    -0.00094374514974304,
    -0.0004864952074121949,
    -0.0001282642075430886,
    0.0001378481942671413,
    0.0003244234801251765,
    0.0004474274416575579,
    0.0005239610381095467,
    0.0005702232699094942,
    0.000599824467158241,
    0.0006225540173111333,
];
